(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,,function(e,t,o){e.exports={foodList:"food-list_foodList__1reRd",foodListItems:"food-list_foodListItems__Vom0L",foodListItem:"food-list_foodListItem__2AAim",foodListFields:"food-list_foodListFields__1drop",headers:"food-list_headers__1zgGb"}},,,,,function(e,t,o){e.exports={foodRow:"food-input_foodRow__3FaJC",foodLabel:"food-input_foodLabel__36i1a",short:"food-input_short__DWUPW",above:"food-input_above__3tFye",foodInput:"food-input_foodInput__3PEmn"}},function(e,t,o){e.exports={foodFormModal:"food-form_foodFormModal__1i0xW",foodFormModalOverlay:"food-form_foodFormModalOverlay__1g29t",foodFormContainer:"food-form_foodFormContainer__3VGNq",foodForm:"food-form_foodForm__2gEtH",foodButtons:"food-form_foodButtons__2Aahn"}},,,,,,,,,function(e,t,o){e.exports={foodError:"food-error_foodError__2Xmmv"}},function(e,t,o){e.exports={foodSuccess:"food-success_foodSuccess__3NQQX"}},function(e,t,o){e.exports={foodItemOverlay:"food-item-overlay_foodItemOverlay__20Ma9"}},function(e,t,o){e.exports={showFoodFormButton:"show-food-form-button_showFoodFormButton__1oBC3"}},function(e,t,o){e.exports={addFoodContainer:"add-food_addFoodContainer__uymAp"}},function(e,t,o){},function(e,t,o){},,,,,,,function(e,t,o){},,,,,,,,function(e,t,o){"use strict";o.r(t);var n=o(1),a=o.n(n),r=o(22),c=o.n(r),s=(o(37),o(31)),i=o(3),u=o(2),d=o(13),l=o(7),f=o(10),b=o.n(f),j=o(11),m=o(23),O=Object(m.a)({showForm:!1,fetched:!1,formDisabled:!1,formEditable:!1,showFormItemOverlay:-1,error:"",success:"",foods:[],food:"",formData:{}}).useGlobalState,h=o(0);function p(){var e=O("formDisabled"),t=Object(u.a)(e,1)[0];return Object(h.jsx)("input",{type:"submit",value:"Submit",disabled:t})}function x(){var e=O("food"),t=Object(u.a)(e,2)[1],o=O("showForm"),n=Object(u.a)(o,2)[1],a=O("formDisabled"),r=Object(u.a)(a,2)[1];return Object(h.jsx)("button",{onClick:function(){t(""),n(!1),r(!0)},children:"Cancel"})}var v=o(14),_=o.n(v);function g(e){var t=e.name,o=e.label,n=e.type,a=e.value,r=e.handleInputChange;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("label",{className:"".concat(_.a.foodRow," ").concat("checkbox"===n&&_.a.short),children:[Object(h.jsx)("span",{className:"".concat(_.a.foodLabel," ").concat(("text"===n||"number"===n)&&_.a.above),children:o}),Object(h.jsx)("input",{className:"".concat(_.a.foodInput),name:t,type:n,value:a,checked:a,onChange:r,placeholder:"".concat(o," cannot be ").concat("number"===n?"zero":"blank")})]})})}var F={name:"Name",gluten:"Gluten",glutenExplanation:"Gluten Explanation",fructose:"Fructose",fructoseExplanation:"Fructose Explanation",lactose:"Lactose",lactoseExplanation:"Lactose Explanation",price:"Price",baseHunger:"Base Hunger",baseHealth:"Base Health",breakfast:"Breakfast",lunch:"Lunch",dinner:"Dinner",tags:"Tags"},y={name:"",gluten:1,glutenExplanation:"",fructose:!1,fructoseExplanation:"",lactose:!1,lactoseExplanation:"",price:1,baseHunger:1,baseHealth:1,breakfast:!1,lunch:!1,dinner:!1,tags:[]},E=o(15),k=o.n(E);function w(){var e,t,o=O("fetched"),a=Object(u.a)(o,2)[1],r=O("formDisabled"),c=Object(u.a)(r,2)[1],s=O("showForm"),i=Object(u.a)(s,2)[1],f=O("food"),m=Object(u.a)(f,2)[1],v=O("error"),_=Object(u.a)(v,2)[1],E=O("success"),w=Object(u.a)(E,2)[1],N=O("food"),C=Object(u.a)(N,1)[0],L=O("formEditable"),I=Object(u.a)(L,1)[0],P=O("formData"),S=Object(u.a)(P,2),D=S[0],T=S[1],B=Object(n.useCallback)((function(){T(y)}),[T]);Object(n.useEffect)((function(){I||B()}),[B,I]),Object(n.useEffect)((function(){M()}));var M=function(){for(var e=J.filter((function(e){return null!==e})),t=0;t<e.length;t+=1){var o=e[t].props,n=o.type,a=o.value;if("checkbox"!==n&&!a)return c(!0)}return c(!1)},H=function(){var e=Object(j.a)(b.a.mark((function e(t){var o,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),c(!0),I){e.next=8;break}return e.next=5,fetch("/api/food/one",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});case 5:o=e.sent,e.next=11;break;case 8:return e.next=10,fetch("/api/food/one/".concat(C),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},body:JSON.stringify(D)});case 10:o=e.sent;case 11:return e.next=13,o.json();case 13:if(!(n=e.sent).success){e.next=22;break}return B(),a(!1),i(!1),m(""),e.abrupt("return",w("Success: ".concat(n.data.name," was edited.")));case 22:return c(!1),e.abrupt("return",_("Error: ".concat(n.error,". Please try again later.")));case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(e){var t=e.target.value;"checkbox"===e.target.type?t=e.target.checked:"number"===e.target.type&&(t=parseInt(e.target.value)),T(Object(l.a)(Object(l.a)({},D),{},Object(d.a)({},e.target.name,t)))},J=null===(e=Object.entries(D))||void 0===e||null===(t=e.filter((function(e){var t=Object(u.a)(e,1)[0];return!/_/.test(t)})))||void 0===t?void 0:t.map((function(e){var t=Object(u.a)(e,2),o=t[0],n=t[1],a="text";return"boolean"===typeof n?a="checkbox":"number"===typeof n&&(a="number"),("glutenExplanation"!==o||D.gluten)&&("fructoseExplanation"!==o||D.fructose)&&("lactoseExplanation"!==o||D.lactose)?Object(h.jsx)(g,{name:o,label:F[o],type:a,value:D[o],handleInputChange:A},o):null}));return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("div",{className:k.a.foodFormModalOverlay}),Object(h.jsx)("article",{className:k.a.foodFormModal,children:Object(h.jsxs)("div",{className:k.a.foodFormContainer,children:[Object(h.jsx)("h2",{children:I?"Edit a dish":"Add a dish"}),Object(h.jsxs)("form",{className:k.a.foodForm,onSubmit:H,children:[J,Object(h.jsxs)("section",{className:k.a.foodButtons,children:[Object(h.jsx)(p,{}),Object(h.jsx)(x,{})]})]})]})})]})}var N=o(24),C=o.n(N);function L(){var e=O("error"),t=Object(u.a)(e,1)[0];return Object(h.jsx)("span",{className:C.a.foodError,children:t})}var I=o(25),P=o.n(I);function S(){var e=O("success"),t=Object(u.a)(e,1)[0];return Object(h.jsx)("span",{className:P.a.foodSuccess,children:t})}var D=o(9),T=o.n(D);function B(){var e,t,o=null===(e=Object.values(F))||void 0===e||null===(t=e.filter((function(e){return!/Explanation/.test(e)})))||void 0===t?void 0:t.map((function(e,t){return Object(h.jsx)("span",{className:"".concat(T.a.foodListFields," ").concat(T.a.headers),children:e},"Header_".concat(t))}));return Object(h.jsx)("section",{className:T.a.foodListItem,children:o})}var M=o(26),H=o.n(M);function A(e){var t=e._id,o=O("error"),n=Object(u.a)(o,2)[1],a=O("formData"),r=Object(u.a)(a,2)[1],c=O("formEditable"),s=Object(u.a)(c,2)[1],i=O("showForm"),d=Object(u.a)(i,2)[1],l=O("fetched"),f=Object(u.a)(l,2)[1],m=O("success"),p=Object(u.a)(m,2)[1],x=O("food"),v=Object(u.a)(x,2)[1],_=function(){var e=Object(j.a)(b.a.mark((function e(){var o,a,c,i,l,f,j,m,O,h,p,x,_;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/food/one/".concat(t));case 2:if((o=e.sent).ok){e.next=6;break}return a=o.status,c=o.statusText,e.abrupt("return",n("".concat(a," error: ").concat(c,". Please try again later.")));case 6:return e.next=8,o.json();case 8:if(i=e.sent,l=i.success,f=i.data,l){for(m=null===(j=Object.entries(f))||void 0===j?void 0:j.filter((function(e){var t=Object(u.a)(e,1)[0];return!/_/.test(t)})),O=Object.assign({},y),h=0;h<m.length;h+=1)p=Object(u.a)(m[h],2),x=p[0],_=p[1],O[x]=_;v(t),r(O),s(!0),d(!0)}else n("Error: ".concat(f,". Please try again later."));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(j.a)(b.a.mark((function e(){var o,a,r,c,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/food/one/".concat(t),{method:"DELETE"});case 2:if((o=e.sent).ok){e.next=6;break}return a=o.status,r=o.statusText,e.abrupt("return",n("".concat(a," error: ").concat(r,". Please try again later.")));case 6:return e.next=8,o.json();case 8:c=e.sent,s=c.success,i=c.data,s?(f(!1),p("Success: ".concat(i.name," was deleted."))):n("Error: ".concat(i,". Please try again later."));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(h.jsxs)("section",{className:H.a.foodItemOverlay,children:[Object(h.jsx)("button",{onClick:_,children:"Edit"}),Object(h.jsx)("button",{onClick:g,children:"Delete"})]})}function J(e){var t,o,n=e.food,a=e.index,r=n._id,c=O("showFormItemOverlay"),s=Object(u.a)(c,2),i=s[0],d=s[1],l=null===(t=Object.entries(n))||void 0===t||null===(o=t.filter((function(e){var t=Object(u.a)(e,1)[0];return!/Explanation|_/.test(t)})))||void 0===o?void 0:o.map((function(e,t){var o=Object(u.a)(e,2),n=(o[0],o[1]),a=n;return"string"===typeof n&&n.length>32&&(a=n.slice(0,29)+"..."),Object(h.jsx)("span",{className:T.a.foodListFields,children:"string"===typeof n?a:JSON.stringify(n)},"Value_".concat(t))}));return Object(h.jsxs)("article",{onClick:function(){return d(i===a?-1:a)},className:T.a.foodListItem,children:[l,i===a&&Object(h.jsx)(A,{_id:r})]})}function G(){var e=O("foods"),t=Object(u.a)(e,1)[0],o=null===t||void 0===t?void 0:t.map((function(e,t){return Object(h.jsx)(J,{food:e,index:t},"Item_".concat(t))}));return Object(h.jsx)("section",{className:T.a.foodListItems,children:o})}function R(){return Object(h.jsx)("span",{children:"Please wait, loading..."})}function V(){var e=O("foods"),t=Object(u.a)(e,2)[1],o=O("fetched"),a=Object(u.a)(o,2),r=a[0],c=a[1],s=O("error"),i=Object(u.a)(s,2),d=i[0],l=i[1],f=O("success"),m=Object(u.a)(f,2),p=m[0],x=m[1],v=function(){var e=Object(j.a)(b.a.mark((function e(){var o,n,a,r,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/food/all");case 2:if((o=e.sent).ok){e.next=6;break}return n=o.status,a=o.statusText,e.abrupt("return",l("".concat(n," error: ").concat(a,". Please try again later.")));case 6:return e.next=8,o.json();case 8:r=e.sent,s=r.success,i=r.data,s?(t(i),c(!0)):(l("Error: ".concat(i,". Please try again later.")),c(!1));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){r||v()})),Object(n.useEffect)((function(){p&&setTimeout((function(){return x("")}),3e3),d&&setTimeout((function(){return l("")}),5e3)})),Object(h.jsxs)("article",{className:T.a.foodList,children:[Object(h.jsx)("h2",{children:"Submitted Dishes"}),Object(h.jsx)(B,{}),r?Object(h.jsx)(G,{}):Object(h.jsx)(R,{}),d&&Object(h.jsx)(L,{}),p&&Object(h.jsx)(S,{})]})}var W=o(27),z=o.n(W);function Q(){var e=O("showForm"),t=Object(u.a)(e,2),o=t[0],n=t[1],a=O("formEditable"),r=Object(u.a)(a,2)[1],c=O("showFormItemOverlay"),s=Object(u.a)(c,2)[1];return Object(h.jsx)("button",{className:z.a.showFoodFormButton,onClick:function(){r(!1),n(!0),s(-1)},disabled:o,children:"Add a dish"})}var U=o(28),X=o.n(U),q=function(){var e=O("showForm"),t=Object(u.a)(e,1)[0];return Object(h.jsxs)("article",{className:X.a.addFoodContainer,children:[Object(h.jsx)(V,{}),!t&&Object(h.jsx)(Q,{}),t&&Object(h.jsx)(w,{})]})},K=o(29),Y=o.n(K);function Z(){return Object(h.jsx)("article",{className:Y.a.game,children:Object(h.jsx)("h2",{children:"My Celiac Adventure"})})}var $=o(30),ee=o.n($);function te(){return Object(h.jsx)("div",{className:ee.a.app,children:Object(h.jsx)(s.a,{children:Object(h.jsxs)(i.c,{children:[Object(h.jsx)(i.a,{path:"/add-food",component:q}),Object(h.jsx)(i.a,{path:"/",component:Z})]})})})}var oe=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,46)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,c=t.getTTFB;o(e),n(e),a(e),r(e),c(e)}))};c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(te,{})}),document.getElementById("root")),oe()}],[[45,1,2]]]);
//# sourceMappingURL=main.2dd99d95.chunk.js.map